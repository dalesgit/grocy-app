# Finding a way to query Shopping List & Pantry

https://fleker.medium.com/3-simple-examples-of-dataview-for-obsidian-092c702b210e

```dataviewjs  
window.getGiftsFor = (person) => {  
const lists = dv.current().file.lists  
const gifts = lists.filter(l => l.section.subpath === person).map(l => l.text)  
if (!gifts.length) return {values:['Nothing: 0']}  
return gifts  
}  
  
window.getGiftTotal = (person) => {  
console.log(person, getGiftsFor(person).values)  
const prices = getGiftsFor(person).values.map(gift => parseFloat(gift.split(': ')[1]))  
const total = prices.reduce((prev, curr) => prev + curr)  
return total  
}  
  
const names = ['Dad', 'Mom',]  
const giftTotal = names.map(n => getGiftTotal(n)).reduce((prev, curr) => prev + curr)  
  
dv.header(6, `Total Gift Spending: $${giftTotal}`)  
```
# Mom
- [MyTracks](https://techcrunch.com/2024/03/27/musical-toy-startup-playtime-engineering-wants-to-simplify-electronic-music-making-for-kids/) 200

```dataviewjs  
window.getChecked = (train) => {  
const data = dv.current().file.lists  
const stations = data.values.filter(v => v.section.subpath.startsWith(train)).filter(v => v.text !== '...')  
return stations  
}  
window.getLineTracker = (train) => {  
const stations = getChecked(train)  
const completed = stations.filter(s => s.completed)  
return `${completed.length}/${stations.length}`  
}  
window.getTotalTracker = () => {  
const values = dv.current().file.lists.values.filter(v => v.text !== '...')  
const completed = values.filter(v => v.completed)  
return `${completed.length}/${values.length}`  
}  
```

### A Train `$= window.getLineTracker('A Train')`  
- [x] Inwood-207 St  
- [ ] DyckMan St  
- [ ] 190 St  
- [x] 181 St  
- [ ] 175 St-GW Bridge  
- [ ] ...  
- [x] 145 St  
- [ ] 125 St  
- [ ] ...  
- [x] 42 St-PABT

# Another guide
https://obsidian.rocks/dataview-in-obsidian-a-beginners-guide/

```dataview
LIST
FROM "Shopping List"
```
https://blacksmithgu.github.io/obsidian-dataview/queries/structure/

## tasks dataview
```dataview
TASK
FROM "Shopping List"
WHERE completed
```
## tasks dataview
```dataview
TASK
FROM "Shopping List"
```
## tasks dataview
```dataview
TASK
FROM "Shopping List"
WHERE !completed
```

